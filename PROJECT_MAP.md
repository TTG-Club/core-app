# üó∫Ô∏è TTG Club Core App ‚Äî –ö–∞—Ä—Ç–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –ò–ò-–∞–≥–µ–Ω—Ç–æ–≤

> **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–Ω–ª–∞–π–Ω-—Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ D&D 5e. –†–∞—Å—ã, –∫–ª–∞—Å—Å—ã, –∑–∞–∫–ª–∏–Ω–∞–Ω–∏—è, –±–µ—Å—Ç–∏–∞—Ä–∏–π, –º–∞–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (—Ç–æ–∫–µ–Ω–∞—Ç–æ—Ä, –∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä, –±—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π).

```
‚úÖ –î–µ–ª–∞–π                                   ‚ùå –ù–µ –¥–µ–ª–∞–π
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Composition API + <script setup>            Options API
Pinia / Composables                         provide/inject (–µ—Å–ª–∏ –º–æ–∂–Ω–æ –∏–∑–±–µ–∂–∞—Ç—å)
VueUse ‚Üí es-toolkit ‚Üí Custom                lodash / custom first
consts.ts                                   constants.ts / hardcode
bg-surface, text-primary                    dark:bg-gray-900
@click.left.exact.prevent                   @click (–±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤)
(value) => fn(value)                        (v) => fn(v)
computed –¥–ª—è –ª–æ–≥–∏–∫–∏                         Ternary –≤ :class
JSDoc –Ω–∞ —Ä—É—Å—Å–∫–æ–º                            JSDoc –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º / –±–µ–∑
~domain/feature (–∞–ª–∏–∞—Å)                     –ü–æ–ª–Ω—ã–µ relative –ø—É—Ç–∏ –∫—Ä–æ—Å—Å-—Ñ–∏—á–∞
Barrel imports (index.ts)                   Deep imports
pnpm lint:write + type-check                Skip checks
Zod –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö            –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏
```

---

## –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –¥–ª—è –∞–≥–µ–Ω—Ç–æ–≤

| –ó–∞–¥–∞—á–∞                           | –ì–¥–µ –∏—Å–∫–∞—Ç—å                                       |
| -------------------------------- | ------------------------------------------------ |
| –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É          | `app/pages/`                                     |
| –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –¥–æ–º–µ–Ω              | `app/features/<domain>/`                         |
| –î–æ–±–∞–≤–∏—Ç—å –æ–±—â–∏–π UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç      | `app/shared/ui/`                                 |
| –î–æ–±–∞–≤–∏—Ç—å API-—ç–Ω–¥–ø–æ–∏–Ω—Ç            | `server/api/` –∏–ª–∏ `server/routes/`               |
| –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É | `server/domain/`                                 |
| –î–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π composable   | `app/composables/`                               |
| –î–æ–±–∞–≤–∏—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—É—é —É—Ç–∏–ª–∏—Ç—É      | `app/utils/`                                     |
| –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—É—é —É—Ç–∏–ª–∏—Ç—É       | `server/utils/`                                  |
| –ò–∑–º–µ–Ω–∏—Ç—å —Ç–µ–º—É/—Ü–≤–µ—Ç–∞              | `app/assets/css/colors/`                         |
| –î–æ–±–∞–≤–∏—Ç—å –∏–∫–æ–Ω–∫—É                  | `app/assets/icons/`                              |
| –ò–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥ Nuxt UI          | `app/app.config.ts`                              |
| –î–æ–±–∞–≤–∏—Ç—å middleware –º–∞—Ä—à—Ä—É—Ç–∞     | `app/middleware/`                                |
| –î–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π middleware    | `server/middleware/`                             |
| –ù–∞–π—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ auto-imports     | `.nuxt/imports.d.ts`                             |
| –ù–∞–π—Ç–∏ —Ç–∏–ø—ã –¥–ª—è —Å—É—â–Ω–æ—Å—Ç–∏          | `app/shared/types/`                              |
| –ù–∞–π—Ç–∏ Pinia-—Å—Ç–æ—Ä                 | `app/shared/stores/` –∏–ª–∏ `app/features/*/model/` |

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –°–ª–æ–π             | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è                | –í–µ—Ä—Å–∏—è                                             |
| ---------------- | ------------------------- | -------------------------------------------------- |
| –§—Ä–µ–π–º–≤–æ—Ä–∫        | Nuxt                      | 4                                                  |
| UI-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫     | Vue                       | 3.5+ (Composition API, `<script setup lang="ts">`) |
| UI-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞    | Nuxt UI                   | 4                                                  |
| –°—Ç–∏–ª–∏            | Tailwind CSS              | 4                                                  |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è        | TypeScript (strict)       | 5.9+                                               |
| State Management | Pinia                     | 3                                                  |
| –£—Ç–∏–ª–∏—Ç—ã          | VueUse, es-toolkit, dayjs | ‚Äî                                                  |
| –í–∞–ª–∏–¥–∞—Ü–∏—è        | Zod                       | ‚Äî                                                  |
| –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç–æ–≤ | pnpm                      | 10                                                 |
| Runtime          | Node.js                   | 24                                                 |
| –ë–î (–∫–ª–∏–µ–Ω—Ç)      | IndexedDB (Dexie)         | ‚Äî                                                  |
| –î–µ–ø–ª–æ–π           | Docker ‚Üí GHCR ‚Üí SSH       | ‚Äî                                                  |

---

# I. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
core-app/
‚îú‚îÄ‚îÄ app/                            # üñ•Ô∏è –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å (Nuxt app directory)
‚îÇ   ‚îú‚îÄ‚îÄ app.vue                     # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ app.config.ts               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nuxt UI (–∏–∫–æ–Ω–∫–∏, –≤–∞—Ä–∏–∞–Ω—Ç—ã)
‚îÇ   ‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ css/                    # –°—Ç–∏–ª–∏: tailwind.css, global.scss, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ü–≤–µ—Ç–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ icons/                  # –ö–∞—Å—Ç–æ–º–Ω—ã–µ SVG-–∏–∫–æ–Ω–∫–∏ (–∫–æ–ª–ª–µ–∫—Ü–∏—è `ttg`)
‚îÇ   ‚îú‚îÄ‚îÄ composables/                # ‚ö° –ì–ª–æ–±–∞–ª—å–Ω—ã–µ composables (auto-import)
‚îÇ   ‚îú‚îÄ‚îÄ features/                   # üèóÔ∏è DDD-–¥–æ–º–µ–Ω—ã (–æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îú‚îÄ‚îÄ layouts/                    # –õ–µ–π–∞—É—Ç—ã: default, detail, section
‚îÇ   ‚îú‚îÄ‚îÄ middleware/                  # Route middleware: auth, admin, close-overlay
‚îÇ   ‚îú‚îÄ‚îÄ pages/                      # üìÑ –ú–∞—Ä—à—Ä—É—Ç—ã (file-based routing)
‚îÇ   ‚îú‚îÄ‚îÄ plugins/                    # –ü–ª–∞–≥–∏–Ω—ã: dayjs, scroll, heartbeat
‚îÇ   ‚îú‚îÄ‚îÄ shared/                     # üîß –û–±—â–∏–π —Å–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                    # API-—É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ consts/                 # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ enums/                  # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stores/                 # –ì–ª–æ–±–∞–ª—å–Ω—ã–µ Pinia-—Å—Ç–æ—Ä—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/                  # –û–±—â–∏–µ —Ç–∏–ø—ã (base, wiki, user –∏ –¥—Ä.)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # üé® UI Kit (23 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils/                  # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/                      # ‚ö° –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (auto-import)
‚îú‚îÄ‚îÄ server/                         # üîí –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å (Nitro)
‚îÇ   ‚îú‚îÄ‚îÄ api/                        # API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (catch-all proxy + greetings)
‚îÇ   ‚îú‚îÄ‚îÄ domain/                     # –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–æ–º–µ–Ω—ã (const, dto, model, repository, service)
‚îÇ   ‚îú‚îÄ‚îÄ middleware/                  # –°–µ—Ä–≤–µ—Ä–Ω—ã–µ middleware (auth token, headers)
‚îÇ   ‚îú‚îÄ‚îÄ routes/                     # Server routes (manifest.json, S3 proxy)
‚îÇ   ‚îî‚îÄ‚îÄ utils/                      # –£—Ç–∏–ª–∏—Ç—ã (JWT, proxy, —Å–∂–∞—Ç–∏–µ)
‚îú‚îÄ‚îÄ shared/                         # üì¶ –ò–∑–æ–º–æ—Ä—Ñ–Ω—ã–π shared (client + server)
‚îÇ   ‚îú‚îÄ‚îÄ consts/                     # –û–±—â–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/                      # –û–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ modules/                        # üß© Nuxt-–º–æ–¥—É–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ auto-aliases.ts             # –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è ~domain –∞–ª–∏–∞—Å–æ–≤
‚îú‚îÄ‚îÄ public/                         # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ .scripts/
‚îÇ   ‚îî‚îÄ‚îÄ sync-ai-rules.js            # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è .cursorrules ‚Üí AGENTS.md, CLAUDE.md
‚îî‚îÄ‚îÄ .github/workflows/              # CI/CD
    ‚îú‚îÄ‚îÄ code-check.yml              # PR: stylelint ‚Üí eslint ‚Üí type-check
    ‚îî‚îÄ‚îÄ deploy.yml                  # Push main/dev: Docker build ‚Üí SSH deploy
```

---

## DDD-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: `app/features/`

### –î–æ–º–µ–Ω—ã

| –î–æ–º–µ–Ω            | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                    | –§–∏—á–∏                                          |
| ---------------- | --------------------------------------------- | --------------------------------------------- |
| `admin`          | –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞                         | ‚Äî                                             |
| `backgrounds`    | –ü—Ä–µ–¥—ã—Å—Ç–æ—Ä–∏–∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π                        | ‚Äî                                             |
| `bestiary`       | –ë–µ—Å—Ç–∏–∞—Ä–∏–π (—Å—É—â–µ—Å—Ç–≤–∞)                          | body, editor, drawer, preview, link           |
| `calculator`     | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä—ã                                  | ‚Äî                                             |
| `classes`        | –ö–ª–∞—Å—Å—ã –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π                             | body, editor, drawer, preview, link           |
| `dice-roller`    | –ë—Ä–æ—Å–æ–∫ –∫–æ—Å—Ç–µ–π                                 | float-button, modal, sidebar-button, link     |
| `feats`          | –ß–µ—Ä—Ç—ã                                         | ‚Äî                                             |
| `glossary`       | –°–ª–æ–≤–∞—Ä—å —Ç–µ—Ä–º–∏–Ω–æ–≤                              | ‚Äî                                             |
| `home`           | –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞                              | ‚Äî                                             |
| `infrastructure` | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (filter, search, sidebar, pwa) | ‚Äî                                             |
| `items`          | –°–Ω–∞—Ä—è–∂–µ–Ω–∏–µ                                    | ‚Äî                                             |
| `magic-items`    | –ú–∞–≥–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–¥–º–µ—Ç—ã                           | ‚Äî                                             |
| `roadmap`        | –î–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞                                | ‚Äî                                             |
| `species`        | –†–∞—Å—ã/–≤–∏–¥—ã                                     | ‚Äî                                             |
| `spells`         | –ó–∞–∫–ª–∏–Ω–∞–Ω–∏—è                                    | body, editor, drawer, legend, preview, link   |
| `tokenator`      | –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Ç–æ–∫–µ–Ω–æ–≤                             | canvas, controls, preview, model, composables |
| `user`           | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –ø—Ä–æ—Ñ–∏–ª—å                      | ‚Äî                                             |
| `workshop`       | –ú–∞—Å—Ç–µ—Ä—Å–∫–∞—è (—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞)                | ‚Äî                                             |

### –ê–Ω–∞—Ç–æ–º–∏—è —Ñ–∏—á–∏ (–Ω–∞ –ø—Ä–∏–º–µ—Ä–µ `tokenator`)

```
app/features/tokenator/
‚îú‚îÄ‚îÄ canvas/                     # –§–∏—á–∞ ¬´–•–æ–ª—Å—Ç¬ª
‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—á–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                # –ü—É–±–ª–∏—á–Ω—ã–π API
‚îú‚îÄ‚îÄ controls/                   # –§–∏—á–∞ ¬´–≠–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è¬ª
‚îÇ   ‚îú‚îÄ‚îÄ TokenatorControls.vue   # –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç: [Domain][Feature].vue
‚îÇ   ‚îú‚îÄ‚îÄ composables/            # Composables –†–Ø–î–û–ú —Å model, –Ω–µ –≤–Ω—É—Ç—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ ui/                     # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                # –ü—É–±–ª–∏—á–Ω—ã–π API
‚îú‚îÄ‚îÄ model/                      # –û–±—â–∞—è –º–æ–¥–µ–ª—å –¥–æ–º–µ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ consts.ts               # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–ù–ï constants.ts)
‚îÇ   ‚îú‚îÄ‚îÄ types.ts                # –¢–∏–ø—ã
‚îÇ   ‚îú‚îÄ‚îÄ db.ts                   # IndexedDB (Dexie)
‚îÇ   ‚îú‚îÄ‚îÄ utils/                  # –£—Ç–∏–ª–∏—Ç—ã –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ index.ts                # –ü—É–±–ª–∏—á–Ω—ã–π API
‚îú‚îÄ‚îÄ preview/                    # –§–∏—á–∞ ¬´–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä¬ª
‚îÇ   ‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îî‚îÄ‚îÄ index.ts
‚îî‚îÄ‚îÄ composables/                # Composables —É—Ä–æ–≤–Ω—è –¥–æ–º–µ–Ω–∞
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞

| –ü—Ä–∞–≤–∏–ª–æ                                                                                                 | –°—Ç–∞—Ç—É—Å         |
| ------------------------------------------------------------------------------------------------------- | -------------- |
| `composables/` ‚Äî —Å–∏–±–ª–∏–Ω–≥ `model/` –∏ `ui/`, **–ù–ï** –≤–ª–æ–∂–µ–Ω –≤ `model/`                                     | üö´ –°—Ç—Ä–æ–≥–æ      |
| `index.ts` –≤ –∫–æ—Ä–Ω–µ –¥–æ–º–µ–Ω–∞ (`app/features/<–¥–æ–º–µ–Ω>/index.ts`) ‚Äî **–∑–∞–ø—Ä–µ—â—ë–Ω**                              | üö´ –°—Ç—Ä–æ–≥–æ      |
| `index.ts` –≤ –ø–æ–¥–ø–∞–ø–∫–∞—Ö (`model/`, `ui/`, `body/`) ‚Äî **–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω**                                      | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |
| `app/components/` **–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚Äî –Ω–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å                                                      | üö´ –°—Ç—Ä–æ–≥–æ      |
| –°—Ç—Ä–∞–Ω–∏—á–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`TokenatorPage.vue`) ‚Äî **–∑–∞–ø—Ä–µ—â–µ–Ω—ã**. –õ–æ–≥–∏–∫–∞ –ø–∏—à–µ—Ç—Å—è –≤ `app/pages/.../index.vue` | üö´ –°—Ç—Ä–æ–≥–æ      |
| –£—Ç–∏–ª–∏—Ç—ã, composables, —Ç–∏–ø—ã, —Å—Ç–æ—Ä—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Ñ–∏—á–∏ ‚Äî **–≤–Ω—É—Ç—Ä–∏ –ø–∞–ø–∫–∏ —Ñ–∏—á–∏**                               | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ |

### Barrel-—Ñ–∞–π–ª—ã (`index.ts`)

| –ú–µ—Å—Ç–æ                                        | –†–∞–∑—Ä–µ—à—ë–Ω?     |
| -------------------------------------------- | ------------- |
| `app/features/<–¥–æ–º–µ–Ω>/index.ts`              | ‚ùå –ó–∞–ø—Ä–µ—â—ë–Ω   |
| `app/features/<–¥–æ–º–µ–Ω>/<—Ñ–∏—á–∞>/index.ts`       | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª–µ–Ω |
| `app/features/<–¥–æ–º–µ–Ω>/<—Ñ–∏—á–∞>/model/index.ts` | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª–µ–Ω |
| `app/features/<–¥–æ–º–µ–Ω>/<—Ñ–∏—á–∞>/ui/index.ts`    | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª–µ–Ω |

---

## –°–∏—Å—Ç–µ–º–∞ –∞–ª–∏–∞—Å–æ–≤ –∏ –∏–º–ø–æ—Ä—Ç—ã

–ú–æ–¥—É–ª—å `modules/auto-aliases.ts` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∞–ª–∏–∞—Å—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞ –≤ `app/features/`:

| –ê–ª–∏–∞—Å             | –ü—É—Ç—å                                           |
| ----------------- | ---------------------------------------------- |
| `~bestiary`       | `app/features/bestiary`                        |
| `~tokenator`      | `app/features/tokenator`                       |
| `~dice-roller`    | `app/features/dice-roller`                     |
| `~infrastructure` | `app/features/infrastructure`                  |
| `~ui`             | `app/shared/ui` (–æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ `nuxt.config.ts`) |
| ...               | ...(–¥–ª—è –≤—Å–µ—Ö 21 –¥–æ–º–µ–Ω–∞)                        |

### –ü—Ä–∞–≤–∏–ª–∞ –∏–º–ø–æ—Ä—Ç–æ–≤

```typescript
import { SpellBody } from '~spells/body';
// ‚úÖ –ö—Ä–æ—Å—Å-—Ñ–∏—á–∞ / –∫—Ä–æ—Å—Å-–¥–æ–º–µ–Ω ‚Üí –ê–õ–ò–ê–°–´
import { TokenatorCanvas } from '~tokenator/canvas';
// ‚úÖ –ò–∑ barrel-—Ñ–∞–π–ª–∞
import { someConst } from '~tokenator/model';
// ‚ùå –ì–ª—É–±–æ–∫–∏–π –∏–º–ø–æ—Ä—Ç —á–µ—Ä–µ–∑ –∞–ª–∏–∞—Å
import { someConst } from '~tokenator/model/consts';
// ‚ùå –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –≥–ª—É–±–∏–Ω–∞ > 2
import { x } from '~tokenator/model/utils/helpers';
// ‚úÖ Shared UI Kit ‚Üí –∞–ª–∏–∞—Å ~ui
import { TtgCard } from '~ui/card';

// ‚úÖ –ú–µ–∂–¥—É –ø–æ–¥–º–æ–¥—É–ª—è–º–∏ –æ–¥–Ω–æ–π —Ñ–∏—á–∏ ‚Üí –û–¢–ù–û–°–ò–¢–ï–õ–¨–ù–´–ï –ø—É—Ç–∏
import { useStore } from '../../model';
import { SOME_CONST } from '../model';

// ‚úÖ –í–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ ‚Üí –û–¢–ù–û–°–ò–¢–ï–õ–¨–ù–´–ï –ø—É—Ç–∏
import { helper } from './utils'; // –ó–ê–ü–†–ï–©–ï–ù–û –≤ index.ts —Ñ–∏—á–∏

// ‚ùå –≠–∫—Å–ø–æ—Ä—Ç ui/ –∏–∑ index.ts —Ñ–∏—á–∏
export * from './ui'; // –ó–ê–ü–†–ï–©–ï–ù–û
```

---

## Shared UI Kit

23 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –≤ `app/shared/ui/`: action, animated-number, card, collapse, copy-button, drawer, editor, gallery, grouped-list, icon, input, kbd-shortcut, link, markup, page, placeholder, rating, result, select, skeleton, source-tag, tooltip, upload.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** Nuxt UI ‚Üí `shared/ui` ‚Üí `features/*/ui`

---

# II. –°—Ç–∏–ª—å –∫–æ–¥–∞

## TypeScript (—Å—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º)

| –ü—Ä–∞–≤–∏–ª–æ               | –û–ø–∏—Å–∞–Ω–∏–µ                                    |
| --------------------- | ------------------------------------------- |
| `any`                 | üö´ **–°—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â—ë–Ω**                      |
| `as Type`             | üö´ –ó–∞–ø—Ä–µ—â–µ–Ω—ã type assertions                |
| `as unknown as Type`  | üö´ –°—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–æ –¥–≤–æ–π–Ω–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ      |
| Magic numbers         | üö´ –ó–∞–ø—Ä–µ—â–µ–Ω—ã ‚Äî –≤—ã–Ω–æ—Å–∏—Ç—å –≤ `consts.ts`       |
| Explicit return types | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è —É—Ç–∏–ª–∏—Ç –∏ —Å–ª–æ–∂–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π |
| Strict mode           | ‚úÖ –í–∫–ª—é—á—ë–Ω –≥–ª–æ–±–∞–ª—å–Ω–æ                        |

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–Ω–µ—à–Ω–∏—Ö –¥–∞–Ω–Ω—ã—Ö

–î–∞–Ω–Ω—ã–µ –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–æ—Ç–≤–µ—Ç—ã API, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –≤–≤–æ–¥) –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—é—Ç —Å–≤–æ–π —Ç–∏–ø. –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —á–µ—Ä–µ–∑ **Zod** –∏–ª–∏ —Ä—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –æ–∂–∏–¥–∞–µ–º–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

```typescript
// ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ API —á–µ—Ä–µ–∑ Zod
import { z } from 'zod';

const CreatureSchema = z.object({
  name: z.string(),
  challengeRating: z.number(),
});

const response = await $fetch('/api/creatures/1');
const creature = CreatureSchema.parse(response);

// ‚ùå –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
const creature = await $fetch('/api/creatures/1'); // —Ç–∏–ø –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω

creature.name; // –º–æ–∂–µ—Ç –±—ã—Ç—å undefined
```

---

## –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ —Ñ—É–Ω–∫—Ü–∏–∏

| –ü—Ä–∞–≤–∏–ª–æ                                      | –•–æ—Ä–æ—à–æ                        | –ü–ª–æ—Ö–æ                        |
| -------------------------------------------- | ----------------------------- | ---------------------------- |
| –ü–æ–ª–Ω—ã–µ –∞–Ω–≥–ª–∏–π—Å–∫–∏–µ –∏–º–µ–Ω–∞                      | `userProfile`, `requestCount` | `usr`, `reqCnt`              |
| –ù–µ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö –∏–º—ë–Ω                         | `creatureList`, `spellData`   | `data`, `item`, `list`       |
| **–û–¥–Ω–æ–±—É–∫–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–µ—â–µ–Ω—ã**       | `(value) => update(value)`    | `(v) => update(v)`           |
| –ò—Å–∫–ª—é—á–µ–Ω–∏–µ: `i` –≤ `for` —Ü–∏–∫–ª–∞—Ö               | `for (let i = 0; ...)`        | ‚Äî                            |
| –ù–µ—Ç –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–Ω–∏–π –∏ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤                | `getUser`                     | `_getUser`, `superGetUser`   |
| `is*` / `check*` ‚Üí boolean, –±–µ–∑ side effects | `isVisible()`                 | `isVisible()` + DOM mutation |
| –û–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è = –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞                   | `fetchCreature()`             | `fetchAndRenderCreature()`   |
| –†–∞–∑–Ω—ã–µ –∫–æ—Ä–Ω–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π             | `createdDate`, `userData`     | `date`, `data` (–∫–æ–Ω—Ñ–ª–∏–∫—Ç)    |

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

| –ü—Ä–∞–≤–∏–ª–æ                                          | –ü—Ä–∏–º–µ—Ä                        |
| ------------------------------------------------ | ----------------------------- |
| –í—Å–µ –∏–º–µ–Ω–∞ ‚Äî **–º–∏–Ω–∏–º—É–º 2 —Å–ª–æ–≤–∞**                  | `UserCard.vue`, –ù–ï `Card.vue` |
| –ò—Å–∫–ª—é—á–µ–Ω–∏–µ ‚Äî —Ñ–∞–π–ª—ã –≤ `app/pages/`                | `index.vue`, `[id].vue` ‚Äî –û–ö  |
| –ö–æ—Ä–Ω–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–∏—á–∏: `[Domain][Feature].vue` | `TokenatorControls.vue`       |
| UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ–∏—á–∏ ‚Äî –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞          | `LayerSettings.vue`           |

### –§–∞–π–ª—ã, –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –¥–∞–Ω–Ω—ã–µ

| –¢–∏–ø                                         | –§–æ—Ä–º–∞—Ç                                    | –ü—Ä–∏–º–µ—Ä                        |
| ------------------------------------------- | ----------------------------------------- | ----------------------------- |
| –§–∞–π–ª –∫–æ–Ω—Å—Ç–∞–Ω—Ç                               | `consts.ts`                               | –ù–ï `constants.ts`             |
| –ó–Ω–∞—á–µ–Ω–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç                           | `UPPER_CASE` / `PascalCase`               | `DEFAULT_COLOR`, `MaxRetries` |
| SQL                                         | **lowercase**                             | `select * from users`         |
| IndexedDB –∫–ª—é—á–∏                             | `domain:key-name` (kebab-case)            | `tokenator:background-color`  |
| –•–∞—Ä–¥–∫–æ–¥ —Å—Å—ã–ª–æ–∫, —Ç–µ–∫—Å—Ç–æ–≤, —á–∏—Å–µ–ª              | üö´ –ó–∞–ø—Ä–µ—â—ë–Ω –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö ‚Üí –í `consts.ts` |
| –§—É–Ω–∫—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫—É—é –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É | üö´ –ó–∞–ø—Ä–µ—â–µ–Ω—ã                              |

---

## –°—Ç–∏–ª–∏ –∏ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

| –ü—Ä–∞–≤–∏–ª–æ                         | –û–ø–∏—Å–∞–Ω–∏–µ                                                                             |
| ------------------------------- | ------------------------------------------------------------------------------------ |
| –¶–≤–µ—Ç–∞                           | **–¢–æ–ª—å–∫–æ** —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ: `bg-surface`, `text-primary`. –ú–∞–ø–ø–∏–Ω–≥ —á–µ—Ä–µ–∑ CSS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ |
| `dark:` / `light:` –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã | üö´ **–ó–∞–ø—Ä–µ—â–µ–Ω—ã**                                                                     |
| `bg-[var(--ui-bg-elevated)]`    | üö´ –ó–∞–ø—Ä–µ—â–µ–Ω—ã –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ                                                 |
| –ò–∫–æ–Ω–∫–∏                          | –¢–æ–ª—å–∫–æ `ttg` –∏ `fluent` –∫–æ–ª–ª–µ–∫—Ü–∏–∏                                                    |
| Tailwind CSS                    | –ü–æ –≤–µ—Ä—Å–∏–∏, —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤ –ø—Ä–æ–µ–∫—Ç–µ (v4)                                                  |
| Stylelint                       | `stylelint-config-clean-order` ‚Äî –ø–æ—Ä—è–¥–æ–∫ CSS-—Å–≤–æ–π—Å—Ç–≤                                 |
| SCSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ                 | `app/assets/css/variables/`                                                          |
| Tailwind entry                  | `app/assets/css/tailwind.css`                                                        |

---

## Vue-—à–∞–±–ª–æ–Ω—ã

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–æ–±—ã—Ç–∏–π

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** —É–∫–∞–∑—ã–≤–∞—Ç—å –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —Å–æ–±—ã—Ç–∏–π, —á—Ç–æ–±—ã –±—ã–ª–æ –æ—á–µ–≤–∏–¥–Ω–æ, –∫–∞–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∏ –∫–∞–∫–∏–µ side-effects –æ–∂–∏–¥–∞—Ç—å:

```vue
<!-- ‚úÖ –Ø–≤–Ω—ã–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã ‚Äî –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ä–µ–∞–≥–∏—Ä—É–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞ –ª–µ–≤—ã–π –∫–ª–∏–∫,
     –±–µ–∑ –∑–∞–∂–∞—Ç—ã—Ö –∫–ª–∞–≤–∏—à, —Å preventDefault -->
<UButton @click.left.exact.prevent="handleClick" />

<!-- ‚úÖ –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Äî –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã —É–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ -->
<div @click.right.prevent="openContextMenu" />

<!-- ‚ùå –ì–æ–ª—ã–π @click ‚Äî –Ω–µ—è—Å–Ω–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ, –≤–æ–∑–º–æ–∂–Ω—ã –Ω–µ–∂–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ side-effects -->
<UButton @click="handleClick" />
```

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:** `@click.left.exact.prevent` –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –µ—Å–ª–∏ –Ω–µ—Ç –ø—Ä–∏—á–∏–Ω –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –ø–æ–≤–µ–¥–µ–Ω–∏—è.

### –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π

```vue
<!-- ‚úÖ –û–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ ‚Äî –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è inline -->
<UButton @click.left.exact.prevent="handleClick" />

<!-- ‚ùå –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω—ã–π inline-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫ -->
<UButton
  @update="
    (v) => {
      form = { ...form, val: v };
    }
  "
/>

<!-- ‚úÖ –ò–º–µ–Ω–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è -->
<UButton @update="handleUpdate" />
```

| –ü—Ä–∞–≤–∏–ª–æ                          | –û–ø–∏—Å–∞–Ω–∏–µ                                         |
| -------------------------------- | ------------------------------------------------ |
| Multi-line inline-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫     | üö´ ‚Üí –í—ã–Ω–µ—Å—Ç–∏ –≤ named function –≤ `<script setup>` |
| `{ ...spread }` –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ    | üö´ ‚Üí –í—ã–Ω–µ—Å—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é                           |
| –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ (ternaries, math) | üö´ ‚Üí –í—ã–Ω–µ—Å—Ç–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é                           |

### Computed –∏ —à–∞–±–ª–æ–Ω–Ω–∞—è –≥–∏–≥–∏–µ–Ω–∞

| –ü—Ä–∞–≤–∏–ª–æ                            | –û–ø–∏—Å–∞–Ω–∏–µ                     |
| ---------------------------------- | ---------------------------- |
| Inline ternary –≤ `:class`          | üö´ ‚Üí –í—ã–Ω–æ—Å–∏—Ç—å –≤ `computed`   |
| –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –≤ `v-if`            | üö´ ‚Üí –í—ã–Ω–æ—Å–∏—Ç—å –≤ `computed`   |
| –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ü–≤–µ—Ç–∞ / –∫–ª–∞—Å—Å—ã        | ‚úÖ ‚Üí –û–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤ `computed` |
| –®–∞–±–ª–æ–Ω—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–º–∏ | ‚úÖ –ù–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π |

### –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∏ State Management

| –ü—Ä–∞–≤–∏–ª–æ                                    | –û–ø–∏—Å–∞–Ω–∏–µ                                                   |
| ------------------------------------------ | ---------------------------------------------------------- |
| –ß–∏—Å—Ç–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ñ–∏—á–∏ (dice-roller –∏ —Ç.–ø.) | ‚úÖ –û–±–µ—Ä–Ω—É—Ç—å –≤ `<ClientOnly>`                               |
| `provide/inject`                           | ‚ö†Ô∏è –°—Ç–∞—Ä–∞—Ç—å—Å—è –∏–∑–±–µ–≥–∞—Ç—å ‚Üí –ø—Ä–µ–¥–ø–æ—á–∏—Ç–∞—Ç—å Composables –∏–ª–∏ Pinia |

---

## Composables, —É—Ç–∏–ª–∏—Ç—ã –∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∞–≤–¥—ã

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –≤—ã–±–æ—Ä–∞

```
1. VueUse (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–ª—è reactive/browser APIs)
   ‚îî‚îÄ‚îÄ useDraggable, useWindowScroll, useStorage, useDateFormat...

2. es-toolkit (–¥–ª—è Data manipulation ‚Äî –∑–∞–º–µ–Ω–∞ lodash)
   ‚îî‚îÄ‚îÄ groupBy, debounce, throttle...

3. –ü—Ä–æ–µ–∫—Ç–Ω—ã–µ composables
   ‚îî‚îÄ‚îÄ useDayjs (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º)

4. –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–¢–û–õ–¨–ö–û –µ—Å–ª–∏ 1-3 –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç)
```

### –ü—Ä–æ—Ç–æ–∫–æ–ª Anti-Duplication (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)

**–ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º** –ª—é–±–æ–≥–æ –Ω–æ–≤–æ–≥–æ composable, —É—Ç–∏–ª–∏—Ç—ã –∏–ª–∏ —Ö–µ–ª–ø–µ—Ä–∞:

1. **–ü—Ä–æ—á–∏—Ç–∞—Ç—å** `.nuxt/imports.d.ts` (—Å–æ–¥–µ—Ä–∂–∏—Ç –í–°–ï auto-imports: Nuxt built-ins, VueUse, –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã)
2. **–ù–∞–π—Ç–∏** –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∑–∞–¥–∞—á–∏ (Date, Format, Scroll, Drag –∏ —Ç.–¥.)
3. **–ù–∞–π–¥–µ–Ω** ‚Üí **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π. –ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É
4. **–ù–µ –Ω–∞–π–¥–µ–Ω** ‚Üí –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `VueUse` –∏ `es-toolkit`, –∑–∞—Ç–µ–º –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ ‚Äî —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –ø—Ä–∞–≤–¥—ã (MCP)

| –ò—Å—Ç–æ—á–Ω–∏–∫                       | –ö–æ–Ω—Ç–µ–∫—Å—Ç                                                                        |
| ------------------------------ | ------------------------------------------------------------------------------- |
| `https://nuxt.com/llms.txt`    | Nuxt-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è                                                   |
| `https://ui.nuxt.com/llms.txt` | Nuxt UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ API                                                        |
| MCP-—Å–µ—Ä–≤–µ—Ä—ã (Nuxt, Nuxt UI)    | **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å API-–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –ì–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ –ø—Ä–æ–ø—Å–æ–≤ **–∑–∞–ø—Ä–µ—â–µ–Ω—ã** |

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (JSDoc)

| –ü—Ä–∞–≤–∏–ª–æ                             | –û–ø–∏—Å–∞–Ω–∏–µ                                                      |
| ----------------------------------- | ------------------------------------------------------------- |
| –í—Å–µ —É—Ç–∏–ª–∏—Ç—ã (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ `utils.ts`) | ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª–µ–Ω** JSDoc **–Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ**                  |
| HTML-—Ç–µ–≥–∏ –≤ JSDoc                   | üö´ –ó–∞–ø—Ä–µ—â–µ–Ω—ã (`<ul>`, `<li>`, `<br>`) ‚Üí –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Markdown |
| –ö–æ–¥-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –≤ JSDoc          | –ù–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Ñ—É–Ω–∫—Ü–∏–∏)                           |

```typescript
/**
 * –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç —Å—Ç—Ä–æ–∫—É, –æ–±—Ä–µ–∑–∞—è –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã
 *
 * @param source - –∏—Å—Ö–æ–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
 * @param maxLength - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
 * @returns –æ–±—Ä–µ–∑–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å –º–Ω–æ–≥–æ—Ç–æ—á–∏–µ–º
 */
function getSlicedString(source: string, maxLength: number): string {
  // ...
}
```

---

# III. –ü—Ä–æ—Ü–µ—Å—Å—ã

## –ö–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

| –ö–æ–º–∞–Ω–¥–∞                | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                |
| ---------------------- | --------------------------------------------------------- |
| `pnpm dev`             | –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞                                        |
| `pnpm build`           | –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞                                            |
| `pnpm type-check`      | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (vue-tsc)                                  |
| `pnpm lint:write`      | ESLint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º                                       |
| `pnpm lint:check`      | ESLint –±–µ–∑ –∞–≤—Ç–æ—Ñ–∏–∫—Å–∞                                      |
| `pnpm stylelint:write` | Stylelint —Å –∞–≤—Ç–æ—Ñ–∏–∫—Å–æ–º                                    |
| `pnpm sync-ai-rules`   | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è .cursorrules ‚Üí AGENTS.md, CLAUDE.md         |
| `pnpm postinstall`     | `nuxt cleanup && nuxt prepare` (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∞–ª–∏–∞—Å–æ–≤, —Ç–∏–ø–æ–≤) |

**–§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è)** ‚Äî –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏:

```bash
pnpm run lint:write
pnpm run type-check
```

---

## CI/CD –∏ –∫–æ–º–º–∏—Ç—ã

- **PR:** Stylelint ‚Üí ESLint ‚Üí Type Check (`code-check.yml`)
- **Push main/dev:** Docker build ‚Üí Push GHCR ‚Üí SSH deploy (`deploy.yml`)
- **Pre-commit:** lint-staged (eslint + vue-tsc + stylelint)
- **Post-checkout/merge/rewrite:** `sync-ai-rules`

| –ü—Ä–∞–≤–∏–ª–æ         | –û–ø–∏—Å–∞–Ω–∏–µ                                                            |
| --------------- | ------------------------------------------------------------------- |
| –§–æ—Ä–º–∞—Ç –∫–æ–º–º–∏—Ç–æ–≤ | [Conventional Commits](https://www.conventionalcommits.org/)        |
| –§–æ—Ä–º–∞—Ç          | `<—Ç–∏–ø>[–æ–±–ª–∞—Å—Ç—å]: <–æ–ø–∏—Å–∞–Ω–∏–µ>`                                        |
| –¢–∏–ø—ã            | `feat`, `fix`, `docs`, `refactor`, `chore`, `style`, `perf`, `test` |
| –û–ø–∏—Å–∞–Ω–∏–µ PR     | –¢–æ–ª—å–∫–æ –ø—Ä–∏ –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–º –∫–æ–º–º–∏—Ç–µ: –ø—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π + —Ü–µ–ª—å          |
| –ü–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π | –ö–æ–¥ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω, –ª–∏–Ω—Ç–µ—Ä—ã –ø—Ä–æ–π–¥–µ–Ω—ã                                 |

### –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ä–µ–≤—å—é

–ü—Ä–∏ —Ä–µ–≤—å—é –∏–ª–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ ‚Äî –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å **—Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π**:

- **–ì–¥–µ:** —Ñ–∞–π–ª / —Ñ—É–Ω–∫—Ü–∏—è / –±–ª–æ–∫
- **–ü–æ—á–µ–º—É:** —Å—Å—ã–ª–∫–∞ –Ω–∞ –ø—Ä–∞–≤–∏–ª–æ –∏–ª–∏ –±–∞–≥
- **–î–ª—è —á–µ–≥–æ:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç / –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

---

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª–∞–º–∏ –ò–ò –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

| –§–∞–π–ª                     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                                                            |
| ------------------------ | --------------------------------------------------------------------- |
| `.cursorrules`           | **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–∏–ª –¥–ª—è –ò–ò**. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å **—Ç–æ–ª—å–∫–æ** —ç—Ç–æ—Ç —Ñ–∞–π–ª |
| `AGENTS.md`, `CLAUDE.md` | –ó–µ—Ä–∫–∞–ª–∞ .cursorrules (auto-sync). –ù–ï —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é           |
| `nuxt.config.ts`         | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nuxt                                                     |
| `app/app.config.ts`      | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nuxt UI (–∏–∫–æ–Ω–∫–∏, –≤–∞—Ä–∏–∞–Ω—Ç—ã)                               |
| `eslint.config.js`       | ESLint (—á–µ—Ä–µ–∑ @svifty7/eslint-config)                                 |
| `stylelint.config.js`    | Stylelint (clean-order)                                               |
| `.editorconfig`          | LF, 2 spaces, final newline                                           |

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π `.cursorrules` ‚Üí `pnpm run sync-ai-rules`
