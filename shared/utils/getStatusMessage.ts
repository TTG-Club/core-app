import { getReasonPhrase, StatusCodes } from 'http-status-codes';
import { random } from 'lodash-es';

const messages: Partial<Record<StatusCodes, Array<string>>> = {
  // 400 Bad Request
  [StatusCodes.BAD_REQUEST]: [
    'Ты чувствуешь, как заклинание сбилось — слова перепутаны и вызвали лишь комический эффект.',
    'Запрос смят и непонятен, как язык древних магов, от знания которого ты далек.',
    'Разбился артефакт надежды — детали твои не сходятся, и магия не производится.',
    'Под чарами твоими рушится круг — хаос вместо силы, и свет тает в тенях.',
    'Ты призвал духа, но произнёс заклинание неверно — появился лишь безобидный светлячок.',
    'Звезда твоей магии меркнет — послание твое не несёт смысла в этих землях.',
    'Ты идешь по дороге, что ведет в никуда — запрет неясен и неразрешим.',
    'Ошибка в словах твоих — испорченный обряд не приводит к желанному результату.',
    'Магия сбилась с курса, словно стрелы, летящие в пустоту.',
    'Сгусток энергии распался в пламени невежества — запрос невозможен.',
  ],

  // 401 Unauthorized
  [StatusCodes.UNAUTHORIZED]: [
    'Кто ты, скиталец? Без знака разрешения вели тебя в недра заветных земель нельзя.',
    'Стражи держат ворота закрытыми, пока ключ твоих деяний неизвестен.',
    'Твои слова не пробуждают доверия — войти в круг избранных пока не дано.',
    'Ты пытаешься вступить в храм, но без символа посвящения тебе не пройти.',
    'Твои дуалы отвергнуты, и тени заклинателя не пускают тебя дальше.',
    'Регент охраняет покои — на входе тебя ждут испытания, что превзойти еще не время.',
    'Вход прегражден невидимой завесой — найди ту метку, что откроет двери.',
    'Без печати древнего совета твой путь омрачен запретом.',
    'Ты стоишь на пороге тайного совета, но встреча отложена до полного признания.',
    'Печать авторизации не проставлена — шагай назад и найди своего наставника.',
  ],

  // 403 Forbidden
  [StatusCodes.FORBIDDEN]: [
    'Могущественный барьер стоит на пути — лишь избранные могут пройти через него.',
    'За священными вратами хранятся тайны, но вход закрыт для неподготовленных.',
    'Ты столкнулся с древним стражем — без знания заклинаний прохода нет.',
    'Магический артефакт преградил путь — без нужных чар не прорваться сюда.',
    'Холодный взор призрака остановил тебя, охраняя покой утерянных сокровищ.',
    'Врата закрыты пылью веков — не смеют ногти тех коснуться, кто не достоин.',
    'Через этот путь проходят только избранные — кровь и магия запечатлели его.',
    'Стражи света не пропустят без свитка праведного и чистого сердца.',
    'Сила древних чар сплетена вокруг — не нарушай покой без ведома великанов.',
    'Путь перекрыт невидимой стеной — попробуй обратиться к тайным рунам.',
  ],

  // 404 Not Found
  [StatusCodes.NOT_FOUND]: [
    'Тени прошлого скрыли твой путь — искомое растворилось во мраке забвения.',
    'Перед тобой лишь пустота древних руин, где некогда горели багровые кристаллы.',
    'Древний артефакт затерян в лабиринте времени, и глаза смертных его не видят.',
    'Врата туда закрыты, и ни одно заклятье не откроет их сегодня.',
    'Как мираж в пустыне, цель ускользнула, оставив лишь зыбучие пески.',
    'Ты слышишь шёпот забвения в ветре, но направлений — нет.',
    'Плащ невидимости покрывает объект — но название его стерто из памяти.',
    'Звезды не ведают местонахождения свитка, и путь к нему потерян навеки.',
    'Твои пальцы касаются лишь холодного воздуха — сокровище ушло в тень.',
    'Забытый камень лежит под толщей веков — следы стерты, и дверей нет.',
  ],

  // 418 I'm a Teapot
  [StatusCodes.IM_A_TEAPOT]: [
    'Я — простой чайник древних мастеров, и силы мои ограничены священным предназначением.',
    'Мои сосуды наполнены кипящей водой, но тайны твоего запроса им не подвластны.',
    'Ты воззвал ко мне с просьбой, но я не могу выйти за пределы своей природы сосуда.',
    'Магия в моих жилах — кипящая вода, но заклинания твои иные и недостижимы мне.',
    'Пусть будет известно — я служу стихиям, но не могу пробудить то, что вне моей власти.',
    'Жемчужины пара пышут над раной — но мои возможности ограничены прочной керамикой.',
    'Водоворот кипящей воды в моём нутре не плодоносен для исполнения твоих желаний.',
    'Ты просишь невозможного — сосуд свой ищи другой, ибо мой удел иное предназначение.',
    'В глубинах моего кувшина нет сил для исполнения слов, что ты произнёс.',
    'Пусть эта ошибка станет напоминанием — не всякая магия помещается в один сосуд.',
  ],

  // 500 Internal Server Error
  [StatusCodes.INTERNAL_SERVER_ERROR]: [
    'Боги этого мира не могут сформулировать ответ — возможно, магия нарушила ход событий.',
    'Темные силы вмешались, сбивая со пути наши цифровые заклинания.',
    'Магические бури вызвали неполадки, и серверы погрузились в хаос.',
    'Это испытание — древние божества решили проверить нашу стойкость.',
    'Внутренний лабиринт сервера обрушился под напором неведомых чар.',
    'Невидимые тени играют с потоками магии, разрывая связь реальностей.',
    'Печать стабильности сломана — сил нет у искусных магов справиться с этим.',
    'Заклинание исправления возвращает лишь эхо зова пустоты.',
    'Источник силы иссяк, и волны магии исказились и затерялись.',
    'Храм знаний закрыт на время — равновесие мира нарушено загадочной силой.',
  ],

  // 502 Bad Gateway
  [StatusCodes.BAD_GATEWAY]: [
    'Путь перекрыт — между мирами завязалась битва, и прохождение стало невозможным.',
    'Злой страж ворот разрушил мост между королевствами.',
    'Магия обмена прервана, словно пламя гаснет на вздохе ветра.',
    'Врата над пропастью колеблются, обнажая бездну пустоты.',
    'Поток энергии искажён — послание утеряно в буре заблуждений.',
    'Ты видишь бликов багровых всполохов — дверь между царствами не открывается.',
    'Сломана нить связи, и послание не достигнет берега.',
    'Древние символы на воротах треснули под натиском нечистой силы.',
    'Мосты между мирами затянуты сетью теней.',
    'Запрет великого барьера преградил дорогу.',
  ],

  // 503 Service Unavailable
  [StatusCodes.SERVICE_UNAVAILABLE]: [
    'Врата временно закрыты — королевство отдыхает и готовится к новому восстанию.',
    'Силы храма истощены, и портал временно заперт.',
    'Заклятие силы растаяло, оставив тишину на веках.',
    'Паутина времени прервана, и двери заперты эхо судьбы.',
    'Ты слышишь тихие стоны древних машин, которые нуждаются в отдыхе.',
    'Магия восстановления активна — подожди, пока свет вновь зажжётся.',
    'Врата затянуты туманом, и путь невозможен сейчас.',
    'Чары иссякают, и голос призыва не достигает слушателя.',
    'Великий костёр погашен, жди нового огня.',
    'Врата станут открыты вновь, когда силы соберутся в кристаллах.',
  ],
};

export function getStatusMessage(code: StatusCodes, disableBeauty?: boolean) {
  const list = messages[code];
  const length = list?.length;

  return !length || disableBeauty
    ? getReasonPhrase(code)
    : list.at(random(length - 1));
}
